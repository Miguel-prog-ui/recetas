<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comidas - Recetas Deliciosas</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background-color: #F5F5DC;
            color: #4A3C38;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, #E27D60, #FFB347);
            padding: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 2.5rem;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            cursor: pointer;
        }

        .nav-links {
            display: flex;
            gap: 30px;
            align-items: center;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            padding: 10px 15px;
            border-radius: 20px;
        }

        .nav-links a:hover {
            background-color: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }

        .back-btn {
            background-color: #4A3C38 !important;
            color: white !important;
            padding: 12px 25px !important;
            border-radius: 25px !important;
            font-weight: bold;
        }

        .back-btn:hover {
            background-color: #2d2520 !important;
        }

        /* Hero Section */
        .hero {
            text-align: center;
            padding: 60px 0;
            background: rgba(255, 255, 255, 0.5);
            margin: 40px 0;
            border-radius: 20px;
        }

        .hero h1 {
            font-size: 3.5rem;
            color: #E27D60;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .hero-icon {
            font-size: 5rem;
            margin-bottom: 20px;
            display: block;
        }

        .hero p {
            font-size: 1.3rem;
            color: #4A3C38;
            opacity: 0.8;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Filter Section */
        .filters {
            background: white;
            padding: 30px;
            border-radius: 20px;
            margin: 40px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .filter-row {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .filter-group label {
            font-weight: bold;
            color: #4A3C38;
        }

        .filter-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 8px 16px;
            border: 2px solid #FFB347;
            background: white;
            color: #4A3C38;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .filter-btn:hover, .filter-btn.active {
            background: #FFB347;
            color: white;
        }

        .search-section {
            display: flex;
            gap: 15px;
            align-items: end;
        }

        .search-section input {
            padding: 12px 20px;
            border: 2px solid #FFB347;
            border-radius: 25px;
            font-size: 1rem;
            width: 250px;
        }

        .search-section button {
            padding: 12px 20px;
            background-color: #E27D60;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .search-section button:hover {
            background-color: #d16749;
        }

        /* Recipes Grid */
        .recipes-section {
            padding: 40px 0;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 2.5rem;
            color: #E27D60;
        }

        .results-count {
            color: #4A3C38;
            opacity: 0.7;
            font-size: 1.1rem;
        }

        .recipes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
        }

        .recipe-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .recipe-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
        }

        .recipe-image {
            height: 220px;
            background: linear-gradient(135deg, #E27D60, #FFB347);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
            color: white;
            position: relative;
        }

        .difficulty-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255,255,255,0.9);
            color: #4A3C38;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .recipe-content {
            padding: 25px;
        }

        .recipe-card h3 {
            font-size: 1.4rem;
            color: #4A3C38;
            margin-bottom: 15px;
        }

        .recipe-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            color: #E27D60;
            font-size: 0.95rem;
        }

        .recipe-description {
            color: #4A3C38;
            opacity: 0.8;
            font-size: 0.95rem;
            margin-bottom: 20px;
        }

        .recipe-ingredients {
            background: #F5F5DC;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .recipe-ingredients h4 {
            color: #E27D60;
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .ingredients-list {
            font-size: 0.9rem;
            color: #4A3C38;
        }

        .recipe-actions {
            display: flex;
            gap: 10px;
        }

        .btn-primary {
            flex: 1;
            padding: 12px;
            background: #E27D60;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background: #d16749;
        }

        .btn-secondary {
            padding: 12px;
            background: white;
            color: #E27D60;
            border: 2px solid #E27D60;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: #E27D60;
            color: white;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 40px;
            border-radius: 20px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #E27D60;
        }

        .modal h2 {
            color: #E27D60;
            margin-bottom: 20px;
        }

        .modal-ingredients, .modal-instructions {
            margin-bottom: 25px;
        }

        .modal-ingredients h3, .modal-instructions h3 {
            color: #4A3C38;
            margin-bottom: 15px;
        }

        .modal-ingredients ul {
            list-style-type: none;
            padding-left: 0;
        }

        .modal-ingredients li {
            padding: 8px 0;
            border-bottom: 1px solid #F5F5DC;
        }

        .modal-instructions ol {
            padding-left: 20px;
        }

        .modal-instructions li {
            margin-bottom: 10px;
            line-height: 1.6;
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin: 40px 0;
            flex-wrap: wrap;
        }

        .pagination button {
            padding: 12px 16px;
            border: 2px solid #FFB347;
            background: white;
            color: #4A3C38;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            min-width: 45px;
        }

        .pagination button:hover {
            background: #FFB347;
            color: white;
            transform: translateY(-2px);
        }

        .pagination button.active {
            background: #E27D60;
            border-color: #E27D60;
            color: white;
        }

        .pagination button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .pagination button:disabled:hover {
            background: white;
            color: #4A3C38;
            transform: none;
        }

        /* Footer */
        footer {
            background-color: #4A3C38;
            color: white;
            text-align: center;
            padding: 40px 0;
            margin-top: 60px;
        }

        .footer-content {
            border-top: 1px solid rgba(245, 245, 220, 0.2);
            padding-top: 20px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 20px;
            }

            .nav-links {
                flex-direction: column;
                gap: 15px;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .filter-row {
                flex-direction: column;
                align-items: stretch;
            }

            .search-section {
                flex-direction: column;
            }

            .search-section input {
                width: 100%;
            }

            .recipes-grid {
                grid-template-columns: 1fr;
            }

            .section-header {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo" onclick="goHome()">🍽️ Recetas Deliciosas</div>
                <nav class="nav-links">
                    <a href="#" onclick="goHome()" class="back-btn">← Volver al Inicio</a>
                </nav>
            </div>
        </div>
    </header>

    <main class="container">
        <section class="hero">
            <span class="hero-icon">🍽️</span>
            <h1>Comidas Deliciosas</h1>
            <p>Explora una increíble variedad de recetas para cada momento del día. Desde desayunos energizantes hasta cenas gourmet y postres irresistibles, encuentra la receta perfecta para cualquier ocasión.</p>
        </section>

        <section class="filters">
            <div class="filter-row">
                <div class="filter-group">
                    <label>Tipo:</label>
                    <div class="filter-buttons">
                        <button class="filter-btn active" onclick="filterByType('todos')">Todos</button>
                        <button class="filter-btn" onclick="filterByType('desayunos')">Desayunos</button>
                        <button class="filter-btn" onclick="filterByType('almuerzos')">Almuerzos</button>
                        <button class="filter-btn" onclick="filterByType('cenas')">Cenas</button>
                        <button class="filter-btn" onclick="filterByType('postres')">Postres</button>
                    </div>
                </div>
                
                <div class="filter-group">
                    <label>Dificultad:</label>
                    <div class="filter-buttons">
                        <button class="filter-btn active" onclick="filterByDifficulty('todas')">Todas</button>
                        <button class="filter-btn" onclick="filterByDifficulty('Fácil')">Fácil</button>
                        <button class="filter-btn" onclick="filterByDifficulty('Medio')">Medio</button>
                        <button class="filter-btn" onclick="filterByDifficulty('Difícil')">Difícil</button>
                    </div>
                </div>

                <div class="search-section">
                    <div class="filter-group">
                        <label>Buscar por nombre:</label>
                        <input type="text" placeholder="Buscar comidas..." id="searchInput">
                    </div>
                    <button onclick="searchMeals()">Buscar</button>
                </div>
                
                <div class="search-section">
                    <div class="filter-group">
                        <label>Buscar por ingredientes:</label>
                        <input type="text" placeholder="Ej: pollo, tomate, queso..." id="ingredientSearch">
                    </div>
                    <button onclick="searchByIngredients()">Buscar</button>
                </div>
            </div>
        </section>

        <section class="recipes-section">
            <div class="section-header">
                <h2 class="section-title">Nuestras Recetas</h2>
                <span class="results-count" id="resultsCount">24 recetas encontradas</span>
            </div>
            
            <div class="recipes-grid" id="recipesGrid">
                <!-- Las recetas se cargarán dinámicamente -->
            </div>
            
            <!-- Paginación -->
            <div class="pagination" id="pagination">
                <!-- Los controles de paginación se cargarán dinámicamente -->
            </div>
        </section>
    </main>

    <!-- Modal para receta completa -->
    <div id="recipeModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="modalContent">
                <!-- Contenido del modal se carga dinámicamente -->
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2024 Recetas Deliciosas - Sección Comidas. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        const meals = [
            {
                id: 1,
                name: "Pancakes Esponjosos",
                type: "desayunos",
                time: "20 min",
                difficulty: "Fácil",
                icon: "🥞",
                description: "Pancakes súper esponjosos y dorados, perfectos para un desayuno especial",
                ingredients: ["2 tazas harina", "2 huevos", "1½ tazas leche", "2 cdas azúcar", "1 cda polvo de hornear", "Mantequilla", "Miel o jarabe"],
                instructions: [
                    "Mezcla los ingredientes secos en un bowl",
                    "En otro bowl, bate huevos con leche",
                    "Combina ambas mezclas sin batir demasiado",
                    "Calienta la sartén con mantequilla",
                    "Vierte la mezcla y cocina hasta que burbujee",
                    "Voltea y cocina 2 minutos más",
                    "Sirve caliente con miel o jarabe"
                ]
            },
            {
                id: 2,
                name: "Ensalada César Clásica",
                type: "almuerzos",
                time: "15 min",
                difficulty: "Fácil",
                icon: "🥗",
                description: "La clásica ensalada César con lechuga romana, crutones y aderezo cremoso",
                ingredients: ["1 lechuga romana", "100g queso parmesano", "Crutones", "2 anchoas", "1 huevo", "Jugo de limón", "Aceite de oliva", "Ajo"],
                instructions: [
                    "Lava y corta la lechuga romana",
                    "Prepara el aderezo mezclando anchoas, ajo, huevo y limón",
                    "Agrega aceite de oliva gradualmente",
                    "Mezcla la lechuga con el aderezo",
                    "Añade queso parmesano rallado",
                    "Decora con crutones",
                    "Sirve inmediatamente"
                ]
            },
            {
                id: 3,
                name: "Salmón a la Plancha",
                type: "cenas",
                time: "25 min",
                difficulty: "Medio",
                icon: "🐟",
                description: "Salmón jugoso a la plancha con hierbas aromáticas y limón",
                ingredients: ["4 filetes de salmón", "2 limones", "Romero fresco", "Tomillo", "Aceite de oliva", "Sal y pimienta", "Espárragos"],
                instructions: [
                    "Sazona el salmón con sal, pimienta y hierbas",
                    "Calienta aceite en la sartén",
                    "Cocina el salmón 4 minutos por lado",
                    "Prepara los espárragos al vapor",
                    "Exprime limón sobre el pescado",
                    "Acompaña con los vegetales",
                    "Sirve caliente con rodajas de limón"
                ]
            },
            {
                id: 4,
                name: "Tiramisú Casero",
                type: "postres",
                time: "45 min",
                difficulty: "Difícil",
                icon: "🍰",
                description: "El clásico postre italiano con capas de café, mascarpone y cacao",
                ingredients: ["500g mascarpone", "6 huevos", "100g azúcar", "300ml café fuerte", "2 cdas licor", "Bizcochos de soletilla", "Cacao en polvo"],
                instructions: [
                    "Separa las yemas de las claras",
                    "Bate yemas con azúcar hasta blanquear",
                    "Incorpora el mascarpone suavemente",
                    "Monta las claras a punto de nieve",
                    "Mezcla todo con movimientos envolventes",
                    "Remoja bizcochos en café con licor",
                    "Alterna capas de bizcocho y crema",
                    "Refrigera 4 horas y espolvorea cacao"
                ]
            },
            {
                id: 5,
                name: "Tostadas Francesas",
                type: "desayunos",
                time: "15 min",
                difficulty: "Fácil",
                icon: "🍞",
                description: "Tostadas doradas empapadas en huevo y canela, un desayuno clásico",
                ingredients: ["8 rebanadas pan brioche", "4 huevos", "½ taza leche", "1 cda canela", "1 cda vainilla", "Mantequilla", "Azúcar glass"],
                instructions: [
                    "Bate huevos con leche, canela y vainilla",
                    "Remoja cada rebanada en la mezcla",
                    "Calienta mantequilla en la sartén",
                    "Cocina las tostadas hasta dorar",
                    "Voltea y cocina el otro lado",
                    "Espolvorea con azúcar glass",
                    "Sirve caliente con frutas"
                ]
            },
            {
                id: 6,
                name: "Pasta Carbonara",
                type: "almuerzos",
                time: "20 min",
                difficulty: "Medio",
                icon: "🍝",
                description: "Auténtica pasta carbonara italiana con huevo, queso y panceta",
                ingredients: ["400g spaghetti", "200g panceta", "4 huevos", "100g queso pecorino", "Pimienta negra", "Sal"],
                instructions: [
                    "Hierve la pasta en agua con sal",
                    "Cocina la panceta hasta que esté crujiente",
                    "Bate huevos con queso y pimienta",
                    "Escurre la pasta reservando agua de cocción",
                    "Mezcla pasta caliente con panceta",
                    "Retira del fuego y añade la mezcla de huevo",
                    "Remueve rápidamente para crear la crema",
                    "Sirve inmediatamente con más queso"
                ]
            },
            {
                id: 7,
                name: "Pollo al Curry",
                type: "cenas",
                time: "40 min",
                difficulty: "Medio",
                icon: "🍛",
                description: "Pollo tierno en salsa de curry cremosa con especias aromáticas",
                ingredients: ["1kg pollo en trozos", "400ml leche de coco", "2 cebollas", "3 dientes ajo", "Jengibre", "2 cdas curry", "Tomates", "Arroz basmati"],
                instructions: [
                    "Sofríe cebolla, ajo y jengibre",
                    "Añade el curry y cocina 1 minuto",
                    "Agrega el pollo y sella por todos lados",
                    "Incorpora tomates y leche de coco",
                    "Cocina a fuego lento 25 minutos",
                    "Prepara arroz basmati por separado",
                    "Ajusta sazón y sirve sobre arroz",
                    "Decora con cilantro fresco"
                ]
            },
            {
                id: 8,
                name: "Brownies de Chocolate",
                type: "postres",
                time: "35 min",
                difficulty: "Fácil",
                icon: "🍫",
                description: "Brownies húmedos y chocolatosos, irresistibles para los amantes del chocolate",
                ingredients: ["200g chocolate negro", "150g mantequilla", "200g azúcar", "3 huevos", "100g harina", "Nueces (opcional)"],
                instructions: [
                    "Precalienta horno a 180°C",
                    "Derrite chocolate con mantequilla",
                    "Bate huevos con azúcar hasta espumar",
                    "Incorpora el chocolate derretido",
                    "Añade harina tamizada",
                    "Agrega nueces si deseas",
                    "Hornea 25 minutos en molde engrasado",
                    "Deja enfriar antes de cortar"
                ]
            },
            {
                id: 9,
                name: "Smoothie Bowl Tropical",
                type: "desayunos",
                time: "10 min",
                difficulty: "Fácil",
                icon: "🍓",
                description: "Bowl de smoothie colorido con frutas tropicales y toppings saludables",
                ingredients: ["1 mango", "1 plátano congelado", "½ taza leche de coco", "Granola", "Coco rallado", "Fresas", "Kiwi", "Semillas de chía"],
                instructions: [
                    "Licúa mango y plátano con leche de coco",
                    "Vierte en un bowl",
                    "Corta frutas en rodajas decorativas",
                    "Dispón las frutas sobre el smoothie",
                    "Añade granola y coco rallado",
                    "Espolvorea semillas de chía",
                    "Sirve inmediatamente"
                ]
            },
            {
                id: 10,
                name: "Tacos de Pescado",
                type: "almuerzos",
                time: "25 min",
                difficulty: "Medio",
                icon: "🌮",
                description: "Tacos frescos con pescado a la plancha y salsa de mango",
                ingredients: ["500g filetes pescado blanco", "8 tortillas maíz", "1 mango", "½ cebolla morada", "Cilantro", "Lima", "Repollo", "Crema agria"],
                instructions: [
                    "Sazona y cocina el pescado a la plancha",
                    "Prepara salsa mezclando mango, cebolla y cilantro",
                    "Calienta las tortillas",
                    "Corta repollo en juliana fina",
                    "Desmenuza el pescado cocido",
                    "Arma tacos con pescado, repollo y salsa",
                    "Añade crema agria y cilantro",
                    "Sirve con gajos de lima"
                ]
            },
            {
                id: 11,
                name: "Lasaña de Carne",
                type: "cenas",
                time: "90 min",
                difficulty: "Difícil",
                icon: "🍝",
                description: "Lasaña tradicional con capas de carne, bechamel y queso gratinado",
                ingredients: ["500g carne molida", "Láminas lasaña", "500ml salsa tomate", "400ml bechamel", "300g queso mozzarella", "Queso parmesano", "Cebolla", "Ajo"],
                instructions: [
                    "Prepara salsa boloñesa con carne y tomate",
                    "Cocina láminas de lasaña al dente",
                    "Prepara bechamel cremosa",
                    "Engrasa molde para horno",
                    "Alterna capas: pasta, carne, bechamel, queso",
                    "Repite hasta terminar ingredientes",
                    "Cubre con queso y hornea 45 min a 180°C",
                    "Deja reposar 10 minutos antes de servir"
                ]
            },
            {
                id: 12,
                name: "Cheesecake de Frutos Rojos",
                type: "postres",
                time: "60 min",
                difficulty: "Medio",
                icon: "🍰",
                description: "Cremoso cheesecake con base de galletas y coulis de frutos rojos",
                ingredients: ["500g queso crema", "200g galletas", "100g mantequilla", "3 huevos", "150g azúcar", "300g frutos rojos", "Gelatina sin sabor"],
                instructions: [
                    "Tritura galletas y mezcla con mantequilla",
                    "Forma base en molde desmontable",
                    "Bate queso crema con azúcar y huevos",
                    "Vierte sobre la base",
                    "Hornea 45 min a 160°C",
                    "Prepara coulis con frutos rojos",
                    "Deja enfriar completamente",
                    "Decora con coulis antes de servir"
                ]
            },
            {
                id: 13,
                name: "Avena con Frutas",
                type: "desayunos",
                time: "10 min",
                difficulty: "Fácil",
                icon: "🥣",
                description: "Avena cremosa con frutas frescas, nueces y miel natural",
                ingredients: ["1 taza avena", "2 tazas leche", "1 plátano", "Fresas", "Nueces", "Miel", "Canela"],
                instructions: [
                    "Cocina avena con leche a fuego medio",
                    "Remueve constantemente hasta espesar",
                    "Corta frutas en trozos",
                    "Sirve avena caliente en bowls",
                    "Decora con frutas y nueces",
                    "Rocía miel al gusto",
                    "Espolvorea canela"
                ]
            },
            {
                id: 14,
                name: "Sushi Rolls Caseros",
                type: "almuerzos",
                time: "45 min",
                difficulty: "Difícil",
                icon: "🍣",
                description: "Rolls de sushi frescos con salmón, aguacate y pepino",
                ingredients: ["2 tazas arroz sushi", "Nori", "200g salmón fresco", "1 aguacate", "1 pepino", "Wasabi", "Salsa soja", "Jengibre encurtido"],
                instructions: [
                    "Prepara arroz sushi con vinagre de arroz",
                    "Corta pescado y vegetales en tiras",
                    "Coloca nori sobre esterilla de bambú",
                    "Extiende arroz sobre nori",
                    "Añade relleno en el centro",
                    "Enrolla firmemente con la esterilla",
                    "Corta en porciones con cuchillo húmedo",
                    "Sirve con wasabi y salsa soja"
                ]
            },
            {
                id: 15,
                name: "Risotto de Champiñones",
                type: "cenas",
                time: "35 min",
                difficulty: "Medio",
                icon: "🍄",
                description: "Cremoso risotto italiano con champiñones mixtos y queso parmesano",
                ingredients: ["300g arroz arborio", "500g champiñones mixtos", "1L caldo vegetal", "1 cebolla", "Vino blanco", "Queso parmesano", "Mantequilla"],
                instructions: [
                    "Sofríe cebolla hasta transparentar",
                    "Añade arroz y tuesta 2 minutos",
                    "Agrega vino blanco y deja evaporar",
                    "Incorpora caldo caliente de a poco",
                    "Saltea champiñones por separado",
                    "Remueve constantemente 18 minutos",
                    "Añade champiñones y queso",
                    "Termina con mantequilla"
                ]
            },
            {
                id: 16,
                name: "Flan de Vainilla",
                type: "postres",
                time: "50 min",
                difficulty: "Medio",
                icon: "🍮",
                description: "Flan suave y sedoso con caramelo dorado y esencia de vainilla",
                ingredients: ["6 huevos", "500ml leche", "150g azúcar", "1 cda esencia vainilla", "100g azúcar para caramelo"],
                instructions: [
                    "Prepara caramelo con azúcar hasta dorar",
                    "Vierte caramelo en moldes",
                    "Calienta leche con vainilla",
                    "Bate huevos con azúcar",
                    "Incorpora leche tibia a los huevos",
                    "Cuela la mezcla",
                    "Vierte sobre caramelo",
                    "Cocina al baño maría 40 minutos"
                ]
            },
            {
                id: 17,
                name: "Huevos Benedict",
                type: "desayunos",
                time: "25 min",
                difficulty: "Difícil",
                icon: "🍳",
                description: "Elegante desayuno con huevos pochados, jamón y salsa holandesa",
                ingredients: ["4 huevos", "4 muffins ingleses", "200g jamón", "3 yemas", "150g mantequilla", "Jugo de limón", "Vinagre", "Paprika"],
                instructions: [
                    "Prepara salsa holandesa con yemas y mantequilla",
                    "Tuesta los muffins ingleses",
                    "Calienta jamón en sartén",
                    "Hierve agua con vinagre para huevos",
                    "Pocha huevos de a uno",
                    "Arma: muffin, jamón, huevo, salsa",
                    "Espolvorea paprika",
                    "Sirve inmediatamente"
                ]
            },
            {
                id: 18,
                name: "Ensalada Griega",
                type: "almuerzos",
                time: "15 min",
                difficulty: "Fácil",
                icon: "🥙",
                description: "Fresca ensalada mediterránea con queso feta, aceitunas y tomates",
                ingredients: ["3 tomates", "1 pepino", "1 cebolla morada", "200g queso feta", "Aceitunas kalamata", "Aceite oliva", "Orégano", "Vinagre"],
                instructions: [
                    "Corta tomates en gajos",
                    "Pela y corta pepino en rodajas",
                    "Corta cebolla en juliana fina",
                    "Combina vegetales en ensaladera",
                    "Añade aceitunas y queso feta",
                    "Aliña con aceite, vinagre y orégano",
                    "Mezcla suavemente",
                    "Deja reposar 10 minutos"
                ]
            },
            {
                id: 19,
                name: "Paella Valenciana",
                type: "cenas",
                time: "60 min",
                difficulty: "Difícil",
                icon: "🥘",
                description: "Auténtica paella española con pollo, conejo, judías y azafrán",
                ingredients: ["400g arroz bomba", "1 pollo", "500g conejo", "200g judías verdes", "100g garrofón", "Tomate", "Azafrán", "Caldo", "Aceite oliva"],
                instructions: [
                    "Sofríe pollo y conejo en paellera",
                    "Añade judías y garrofón",
                    "Incorpora tomate rallado",
                    "Agrega arroz y mezcla",
                    "Vierte caldo caliente con azafrán",
                    "Cocina 10 min a fuego fuerte",
                    "Reduce fuego y cocina 10 min más",
                    "Deja reposar 5 minutos"
                ]
            },
            {
                id: 20,
                name: "Mousse de Chocolate",
                type: "postres",
                time: "30 min",
                difficulty: "Medio",
                icon: "🍫",
                description: "Mousse aéreo y intenso de chocolate negro con crema batida",
                ingredients: ["200g chocolate negro", "6 huevos", "50g azúcar", "200ml crema", "1 cda licor (opcional)"],
                instructions: [
                    "Derrite chocolate al baño maría",
                    "Separa yemas de claras",
                    "Bate yemas con azúcar",
                    "Incorpora chocolate tibio",
                    "Monta claras a punto de nieve",
                    "Mezcla con movimientos envolventes",
                    "Refrigera 3 horas mínimo",
                    "Sirve con crema batida"
                ]
            },
            {
                id: 21,
                name: "Granola Casera",
                type: "desayunos",
                time: "30 min",
                difficulty: "Fácil",
                icon: "🥜",
                description: "Granola crujiente con avena, frutos secos y miel natural",
                ingredients: ["3 tazas avena", "1 taza nueces mixtas", "½ taza miel", "¼ taza aceite coco", "1 cda canela", "Pasas", "Semillas"],
                instructions: [
                    "Precalienta horno a 160°C",
                    "Mezcla avena con frutos secos",
                    "Calienta miel con aceite de coco",
                    "Vierte sobre mezcla seca",
                    "Añade canela y mezcla bien",
                    "Extiende en bandeja",
                    "Hornea 20 min removiendo ocasionalmente",
                    "Añade pasas al enfriar"
                ]
            },
            {
                id: 22,
                name: "Gazpacho Andaluz",
                type: "almuerzos",
                time: "20 min",
                difficulty: "Fácil",
                icon: "🍅",
                description: "Sopa fría española con tomates, pepino y pimientos",
                ingredients: ["1kg tomates maduros", "1 pepino", "1 pimiento verde", "1 cebolla", "2 dientes ajo", "Aceite oliva", "Vinagre", "Pan duro"],
                instructions: [
                    "Pela y trocea todos los vegetales",
                    "Remoja pan en agua",
                    "Tritura todo en batidora",
                    "Añade aceite y vinagre",
                    "Sazona con sal",
                    "Cuela si prefieres textura fina",
                    "Refrigera 2 horas",
                    "Sirve con picatostes"
                ]
            },
            {
                id: 23,
                name: "Cordero al Horno",
                type: "cenas",
                time: "120 min",
                difficulty: "Difícil",
                icon: "🍖",
                description: "Pierna de cordero asada con hierbas aromáticas y papas",
                ingredients: ["2kg pierna cordero", "1kg papas", "Romero", "Tomillo", "Ajo", "Aceite oliva", "Vino tinto", "Cebolla"],
                instructions: [
                    "Precalienta horno a 200°C",
                    "Haz cortes en la carne e inserta ajo",
                    "Frota con hierbas y aceite",
                    "Pela y corta papas",
                    "Coloca cordero sobre cama de cebollas",
                    "Rodea con papas",
                    "Asa 90 minutos",
                    "Deja reposar 15 minutos antes de trinchar"
                ]
            },
            {
                id: 24,
                name: "Tarta de Manzana",
                type: "postres",
                time: "75 min",
                difficulty: "Medio",
                icon: "🥧",
                description: "Clásica tarta de manzana con masa quebrada y canela",
                ingredients: ["6 manzanas", "300g harina", "150g mantequilla", "100g azúcar", "1 huevo", "Canela", "Azúcar morena"],
                instructions: [
                    "Prepara masa quebrada con harina y mantequilla",
                    "Refrigera masa 30 minutos",
                    "Pela y corta manzanas en láminas",
                    "Mezcla manzanas con azúcar y canela",
                    "Extiende masa en molde",
                    "Rellena con manzanas",
                    "Hornea 45 min a 180°C",
                    "Sirve tibia con helado"
                ]
            }
        ];

        let filteredMeals = [...meals];
        let currentTypeFilter = 'todos';
        let currentDifficultyFilter = 'todas';
        let currentPage = 1;
        const itemsPerPage = 8;

        function loadMeals(mealsToShow = filteredMeals) {
            const recipesGrid = document.getElementById('recipesGrid');
            const resultsCount = document.getElementById('resultsCount');
            
            // Calcular paginación
            const totalItems = mealsToShow.length;
            const totalPages = Math.ceil(totalItems / itemsPerPage);
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const currentItems = mealsToShow.slice(startIndex, endIndex);
            
            resultsCount.textContent = `${totalItems} recetas encontradas`;
            
            recipesGrid.innerHTML = currentItems.map(meal => `
                <div class="recipe-card">
                    <div class="recipe-image">
                        ${meal.icon}
                        <div class="difficulty-badge">${meal.difficulty}</div>
                    </div>
                    <div class="recipe-content">
                        <h3>${meal.name}</h3>
                        <div class="recipe-meta">
                            <span>⏱️ ${meal.time}</span>
                            <span>🍽️ ${meal.type.charAt(0).toUpperCase() + meal.type.slice(1)}</span>
                        </div>
                        <p class="recipe-description">${meal.description}</p>
                        <div class="recipe-ingredients">
                            <h4>Ingredientes principales:</h4>
                            <div class="ingredients-list">
                                ${meal.ingredients.slice(0, 3).join(', ')}...
                            </div>
                        </div>
                        <div class="recipe-actions">
                            <button class="btn-primary" onclick="viewFullRecipe(${meal.id})">Ver Receta</button>
                            <button class="btn-secondary" onclick="addToFavorites(${meal.id})">❤️</button>
                        </div>
                    </div>
                </div>
            `).join('');
            
            // Actualizar paginación
            updatePagination(totalPages, totalItems);
        }

        function filterByType(type) {
            currentTypeFilter = type;
            
            // Actualizar botones activos
            document.querySelectorAll('.filter-buttons .filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            applyFilters();
        }

        function filterByDifficulty(difficulty) {
            currentDifficultyFilter = difficulty;
            
            // Actualizar botones activos en el grupo de dificultad
            const difficultyButtons = document.querySelectorAll('.filter-group')[1].querySelectorAll('.filter-btn');
            difficultyButtons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            applyFilters();
        }

        function updatePagination(totalPages, totalItems) {
            const pagination = document.getElementById('pagination');
            
            if (totalPages <= 1) {
                pagination.style.display = 'none';
                return;
            }
            
            pagination.style.display = 'flex';
            
            let paginationHTML = '';
            
            // Botón anterior
            paginationHTML += `
                <button onclick="changePage(${currentPage - 1})" ${currentPage === 1 ? 'disabled' : ''}>
                    ← Anterior
                </button>
            `;
            
            // Números de página (siempre del 1 al 10)
            const maxPages = Math.min(10, totalPages);
            for (let i = 1; i <= maxPages; i++) {
                paginationHTML += `
                    <button onclick="changePage(${i})" ${i === currentPage ? 'class="active"' : ''}>
                        ${i}
                    </button>
                `;
            }
            
            // Botón siguiente
            paginationHTML += `
                <button onclick="changePage(${currentPage + 1})" ${currentPage === totalPages ? 'disabled' : ''}>
                    Siguiente →
                </button>
            `;
            
            pagination.innerHTML = paginationHTML;
        }

        function changePage(page) {
            currentPage = page;
            loadMeals(filteredMeals);
            
            // Scroll suave hacia arriba
            document.querySelector('.recipes-section').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }

        function applyFilters() {
            filteredMeals = meals.filter(meal => {
                const typeMatch = currentTypeFilter === 'todos' || meal.type === currentTypeFilter;
                const difficultyMatch = currentDifficultyFilter === 'todas' || meal.difficulty === currentDifficultyFilter;
                return typeMatch && difficultyMatch;
            });
            
            // Resetear a la primera página cuando se aplican filtros
            currentPage = 1;
            loadMeals(filteredMeals);
        }

        function searchMeals() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            
            if (!searchTerm) {
                currentPage = 1;
                loadMeals(filteredMeals);
                return;
            }
            
            const searchResults = filteredMeals.filter(meal => 
                meal.name.toLowerCase().includes(searchTerm) ||
                meal.description.toLowerCase().includes(searchTerm)
            );
            
            currentPage = 1;
            loadMeals(searchResults);
        }

        function searchByIngredients() {
            const ingredientSearch = document.getElementById('ingredientSearch').value.toLowerCase();
            
            if (!ingredientSearch) {
                currentPage = 1;
                loadMeals(filteredMeals);
                return;
            }
            
            // Dividir la búsqueda por comas para buscar múltiples ingredientes
            const searchIngredients = ingredientSearch.split(',').map(ing => ing.trim());
            
            const searchResults = filteredMeals.filter(meal => {
                return searchIngredients.some(searchIng => 
                    meal.ingredients.some(ingredient => 
                        ingredient.toLowerCase().includes(searchIng)
                    )
                );
            });
            
            // Ordenar por relevancia (más ingredientes coincidentes primero)
            searchResults.sort((a, b) => {
                const aMatches = searchIngredients.filter(searchIng => 
                    a.ingredients.some(ingredient => 
                        ingredient.toLowerCase().includes(searchIng)
                    )
                ).length;
                
                const bMatches = searchIngredients.filter(searchIng => 
                    b.ingredients.some(ingredient => 
                        ingredient.toLowerCase().includes(searchIng)
                    )
                ).length;
                
                return bMatches - aMatches;
            });
            
            currentPage = 1;
            loadMeals(searchResults);
            
            if (searchResults.length === 0) {
                alert('No se encontraron recetas con esos ingredientes. Intenta con otros ingredientes como: pollo, tomate, queso, huevo, etc.');
            }
        }

        function viewFullRecipe(mealId) {
            const meal = meals.find(m => m.id === mealId);
            const modal = document.getElementById('recipeModal');
            const modalContent = document.getElementById('modalContent');
            
            modalContent.innerHTML = `
                <h2>${meal.icon} ${meal.name}</h2>
                <p style="margin-bottom: 20px; color: #4A3C38; opacity: 0.8;">${meal.description}</p>
                
                <div style="display: flex; gap: 20px; margin-bottom: 25px; color: #E27D60;">
                    <span>⏱️ Tiempo: ${meal.time}</span>
                    <span>📊 Dificultad: ${meal.difficulty}</span>
                    <span>🍽️ Tipo: ${meal.type.charAt(0).toUpperCase() + meal.type.slice(1)}</span>
                </div>
                
                <div class="modal-ingredients">
                    <h3>Ingredientes:</h3>
                    <ul>
                        ${meal.ingredients.map(ingredient => `<li>• ${ingredient}</li>`).join('')}
                    </ul>
                </div>
                
                <div class="modal-instructions">
                    <h3>Instrucciones:</h3>
                    <ol>
                        ${meal.instructions.map(instruction => `<li>${instruction}</li>`).join('')}
                    </ol>
                </div>
                
                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn-primary" style="margin-right: 10px;" onclick="addToFavorites(${meal.id})">Agregar a Favoritos ❤️</button>
                    <button class="btn-secondary" onclick="shareRecipe(${meal.id})">Compartir 📤</button>
                </div>
            `;
            
            modal.style.display = 'block';
        }

        function closeModal() {
            document.getElementById('recipeModal').style.display = 'none';
        }

        function addToFavorites(mealId) {
            const meal = meals.find(m => m.id === mealId);
            alert(`¡${meal.name} agregada a tus favoritos! 💖`);
        }

        function shareRecipe(mealId) {
            const meal = meals.find(m => m.id === mealId);
            alert(`¡Compartiendo la receta de ${meal.name}! 📤`);
        }

        function goHome() {
            alert('Regresando a la página principal...');
        }

        // Cerrar modal al hacer clic fuera
        window.onclick = function(event) {
            const modal = document.getElementById('recipeModal');
            if (event.target === modal) {
                closeModal();
            }
        }

        // Permitir búsqueda con Enter
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchMeals();
            }
        });

        document.getElementById('ingredientSearch').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchByIngredients();
            }
        });

        // Cargar comidas al iniciar
        window.addEventListener('load', () => {
            loadMeals();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9846de31b65723ca',t:'MTc1ODc2NDk5Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
